<!DOCTYPE html>
<html lang="en">

<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- BOOTSTRAP Latest compiled JavaScript -->
  <link rel="stylesheet" href="universal.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@uvarov.frontend/vanilla-calendar@2.2.5/build/vanilla-calendar.min.css">
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@uvarov.frontend/vanilla-calendar@2.2.5/build/vanilla-calendar.min.js"></script>

  <script type="text/javascript"
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  <script type="text/javascript" src="/airtable.js"></script></script>
  <!-- <script src="/students.js"></script> -->

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/js-sha1/0.6.0/sha1.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/showdown@2.1.0/dist/showdown.min.js"></script>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SHLLXSNFSY"></script>


<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SHLLXSNFSY');
</script>
  <!--<script>"use strict"
    var button = document.querySelectorAll('[data-id="button"]')
    var password = document.querySelectorAll('[data-id="password"]')

    function login(secret) {
      var hash = sha1(secret)
      var url = hash + "/index.html"
      var alert = document.querySelectorAll('[data-id="alert"]')

      var request = new XMLHttpRequest()
      request.open('GET', url, true)

      request.onload = function () {
        if (request.status >= 200 && request.status < 400) {
          window.location = url
        } else {
          parent.location.hash = hash
          alert[0].style.display = 'block'
          password[0].setAttribute('placeholder', 'Incorrect password')
          password[0].value = ''
        }
      }
      request.onerror = function () {
        parent.location.hash = hash
        alert[0].style.display = 'block'
        password[0].setAttribute('placeholder', 'Incorrect password')
        password[0].value = ''
      }
      request.send()
    }

    button[0].addEventListener("click", function () {
      login(password[0].value)
    })

    document.onkeydown = function (e) {
      e = e || window.event
      if (e.keyCode == 13) {
        login(password[0].value)
      }
    }</script>-->

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bhalo!Bangla Beta</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>

<body style="position:relative; min-height: 100vh;">
  <div style="z-index: -1; position: absolute; bottom:0; left:0; right:0; height: 200px; background-image: linear-gradient(to top, #07533281, #ffffff00);"></div>

  <!-- Aesthetic gradient at top -->
  <div style="z-index: -1; position: absolute; top:0; left:0; right:0; bottom:0; background: linear-gradient(160deg,#fff0d2,#e4feff);"></div>


  <!-- Aesthetic gradient at bottom -->

  <!-- Everything REAL in a container -->

  </script>
  <div class="container">
    <div class="row pt-5">
        <!-- Main breakdown into 2margin - 8content - 2margin on medium screens and above otherwise full width using bootstrap-->
      <div class="col-md-2 col-lg-3 d-print-none"></div>
      <div class="col-md-8 px-4 col-lg-6 mb-5 pb-5">
        <!-- EXPLANATION -->
        
        
                    <div class="container">
                      <div class="text-left inline-flex mt-5">
                        <img src="/Classic Logo.png" alt="..." class="d-inline" style="height: 50px;">
                        <style>.text-bg-warning{background-color: orange !important;
                        }</style>
              
                        <!-- <h1 class="my-3" style="font-size: 2.5em;">Welcome to Beta! ðŸ˜Ž</h1> -->
                        <h1 class="d-inline"></h1>
                      </div>
                      <!-- explanations for betas -->
                      <!-- <markdown style="display: none;">![Showdown][sd-logo]
              
              Showdown is a <mark> Javascript Markdown to HTML converter</mark>, based on the original works by John Gruber. It can be used client side (in the browser) or server side (with Node or io). 
              
              
              # Installation
              <fart>trest</fart>
              ## Download tarball
              
              You can download the latest release tarball directly from [releases][releases]
              
              ## Bowd
              
                  bower install showdown
              
              ## npm (server-side)
              
                  npm install showdown
              
              ## CDN
              
              You can also use one of several CDNs available: 
              
              * rawgit CDN
              
                      https://cdn.rawgit.com/showdownjs/showdown/jj/dist/showdown.min.js
              
              * cdnjs
              
                      https://cdnjs.cloudflare.com/ajax/libs/showdown/nn/showdown.min.js
              
              
              [sd-logo]: https://raw.githubusercontent.com/showdownjs/logo/master/dist/logo.readme.png
              [releases]: https://github.com/showdownjs/showdown/releases
              [atx]: http://www.aaronsw.com/2002/atx/intro
              [setext]: https://en.wikipedia.org/wiki/Setext
              
              ---------
              
              # Syntax
              
              
              
              ## Table of contents
              
              - [Introduction](#introduction)
              - [Paragraphs](#paragraphs)
              - [Headings](#headings)
                  * [Atx Style](#atx-style)
                  * [Setext style](#setext-style)
                  * [Header IDs](#header-ids)
              - [Blockquotes](#blockquotes)
              - [Bold and Italic](#bold-and-italic)
              - [Strikethrough](#strikethrough)
              - [Emojis](#emojis)
              - [Code formatting](#code-formatting)
                  * [Inline formats](#inline-formats)
                  * [Multiple lines](#multiple-lines)
              - [Lists](#lists)
                  * [Unordered lists](#unordered-lists)
                  * [Ordered lists](#ordered-lists)
                  * [TaskLists (GFM Style)](#tasklists--gfm-style-)
                  * [List syntax](#list-syntax)
                  * [Nested blocks](#nested-blocks)
                  * [Nested lists](#nested-lists)
                  * [Nested code blocks](#nested-code-blocks)
              - [Links](#links)
                  * [Simple](#simple)
                  * [Inline](#inline)
                  * [Reference Style](#reference-style)
              - [Images](#images)
                  * [Inline](#inline-1)
                  * [Reference Style](#reference-style-1)
                  * [Image dimensions](#image-dimensions)
                  * [Base64 encoded images](#base64-encoded-images)
              - [Tables](#tables)
              - [Mentions](#mentions)
              - [Handling HTML in markdown documents](#handling-html-in-markdown-documents)
              - [Escaping entities](#escaping-entities)
                  * [Escaping markdown entities](#escaping-markdown-entities)
                  * [Escaping html tags](#escaping-html-tags)
              - [Known differences and Gotchas](#known-differences-and-gotchas)
              
              ## Introduction
                        
                      </markdown> -->
                      <p class="mb-0 mt-5">welcome,</p>
                      <b> <h1 class="h1" id="setname">Student</h1></b>
                      <script>
                        const queryString = window.location.search;
                        console.log(queryString);
                        
                        const urlParams = new URLSearchParams(queryString);
                        console.log(urlParams.get('ID').split(" ")[0]);

                        if (urlParams.get('ID') !== null){
                          {
                            var Airtable = require('airtable');
                            var base = new Airtable({apiKey: 'pataVafxqtBa32IY1.4d77daf8255f22dcb88dcbde0c14d73bab2654fa0ac7cd7fb42cf92c42a0ae0d'}).base('appDYx7jO383yZXyc');

                            base('Students').find(urlParams.get('ID').split(" ")[0], function(err, record) {
                                if (err) { console.error(err); return; }
                                document.getElementById('billing').href= "https://billing.stripe.com/p/login/5kA4gU3xKdhq8Ok3cc?prefilled_email="+record.fields.Primary_Email;
                                document.getElementById('setupbilling').href= "https://buy.stripe.com/4gw288cgw95XbxmeUU?prefilled_email="+record.fields.Primary_Email;

                                console.log(record);
                                console.log('Retrieved', record.fields.Name);

                                document.getElementById('setname').innerHTML = record.fields.Name;
                                // document.getElementById('setpayment').innerHTML = record.fields.Payment;
                                // if( document.getElementById('setpayment').innerHTML == "Delinquent"){
                                //               document.getElementById('additionalMessage').innerHTML = "Please pay your bill immediately!";
                                //             };
                                document.getElementById('setrecordID').innerHTML = record.fields.ID;
                                var admin = record.fields.teacher;
                                if (admin){
                                  Array.from(document.getElementsByClassName("studentonly")).forEach((element) => {
                                      element.style.display = 'none';
                                  });
                                }else{
                                  Array.from(document.getElementsByClassName("teacheronly")).forEach((element) => {
                                      element.style.display = 'none';
                                  });
                                };

                                record.fields.IDs.forEach(item => {
                                  console.log(item);
                                  base('Bhalo Bangla Sessions').find(item, function(err, record) {
                                    
                                      if (err) { console.error(err); return; }
                                      const isoString = "2024-05-24T12:00:00.000Z";
                                                const date = new Date(record.fields.Start);
                                                // Options for formatting the date in a more readable way\
                                                const options = {
                                                  year: 'numeric',
                                                  month: 'long',
                                                  day: 'numeric',
                                                  hour: '2-digit',
                                                  minute: '2-digit',
                                                  // timeZoneName: 'short',
                                                  timeZone: 'Asia/Dhaka'
                                                
                                                }
                                                if (!admin){
                                                  options.timeZone='America/Chicago';
                                                };

                                                // Convert to a human-readable format
                                                var humanReadableDate = date.toLocaleString('en-US', options);

                                                console.log(humanReadableDate);
                                      let hee = '<tr> <td>'+ record.fields.Title +'<br>'+ humanReadableDate+'</td> <td> <a href="'+ record.fields.HangoutsLink + '"><button type="button" class="btn btn-info p-0 px-2" style="border-radius: 50px;">Join</button></a> </td> </tr>';
                                      console.log(hee);
                                      document.getElementById('table').insertAdjacentHTML("beforeend",hee);
                                      console.log('Retrieved', record);
                                  });

                                });

                            });
                          }
                        };
                      </script>
                                            <!-- <blockquote  class="mb-2 text-left blockquote"> Welcome aboard, let's go!</blockquote> -->
                                            <!-- <button type="button" class="btn btn-success mt-0">Payment portal</button> -->
                                            <script></script>
                      
                      <div style="background-color: #ffffff66;" class="p-4 pb-1 mb-4 mt-4 border rounded text-black">
                      
                    <h2 style="color: #8f8a01;" class="h2 text-left mb-2 fst-italic"><b>Sessions:</b></h2>
                    
                    <!-- <span class="badge rounded-pill mt-1" style="background-color: #F0C433; color: black;">Reading and Writin</span> -->
                    <table class="table">
                        <thead>
                          <tr>
                            <th scope="col">Time CST/BST</th>
                            <!-- <th scope="col">%%</th> -->
                            <th scope="col">Meeting Link</th>
                          </tr>
                        </thead>
                        <tbody id="table">
                          <!-- <tr>
                            <td>Past Tense Conjugation</td>
                            <td> <a href="https://www.uh.edu"><button type="button" class="btn btn-info p-0 px-2" style="border-radius: 50px;">Click to Join</button></a>
                            </td>
                          </tr>
                          <tr>
                            <td>Greetings</td>
                            <td><span class="badge rounded-pill text-bg-danger">Not started</span>
                            </td>
                            <td><button type="button" class="btn btn-info p-0 px-2" style="border-radius: 50px;">Click to Join</button>
                            </td>
                          </tr>
                          <tr>
                            <td>History of Bangladesh</td>
                            <td>âœ…<span class="badge rounded-pill text-bg-success px-2" ></span>
                            </td>
                            <td>
                            </td>
                          </tr> -->
                        </tbody>
                      </table>
                    </div>



                      <!-- <div style="background: #704b00;"  class="mb-4 p-4 pb-1 border rounded text-white">
<h2 class="h2 text-left fst-italic mb-0"><b>Teacher Feedback:</b></h2>
<p class="fst-italic mt-0">from Feb 14</p>
  <p >You ought to get better at writing! Try practicing or watching the video provided in class to get better before next class</p>
  <table class="table" style="color: #ffffff;">
    <thead>
      <tr>
        <th scope="col">Date</th>
        <th scope="col">Note</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Past Tense Conjugation</td>
        
        <td> ajksdjfadsl;kjl; asd fasd fa sdf asd fasd  sda fasd f as
        </td>
      </tr>
      <tr>
        <td>Greetings</td>
        
        <td> ajksdjfadsl;kjl; asd fasd fa sdf asd fasd  sda fasd f as
        </td>
      </tr>
      <tr>
        <td>History of Bangladesh</td>
        <td> ajksdjfadsl;kjl; asd fasd fa sdf asd fasd  sda fasd f as
        </td>
        <td>
        </td>
      </tr>
    </tbody>
  </table>
</div> -->

<div style="background: #d6ffe7;"  class="p-4 my-4 border rounded text-black studentonly">
  <!-- linear-gradient(160deg,#e09603,#32ba00) -->
<h2 style="color: rgb(0, 57, 0);" class=" fst-italic h2 text-left"><b>Billing:</b></h2>
<p>https://meet.google.com/qra-yiap-ofu</p>
  <a id="setupbilling" href=""><button type="button" class="btn btn-dark">Setup Billing</button></a>
  <a id="billing" href="" ><button type="button" class="btn btn-success">Manage Billing</button></a>
<!-- <button href="https://meet.google.com/qra-yiap-ofu" type="button" class="btn btn-dark">Go to class</button> -->

</div>

<div style="background: #ebebeb;"  class="p-4 my-4 border rounded text-black studentonly">
  <!-- linear-gradient(160deg,#e09603,#32ba00) -->
<h2 class=" fst-italic h2 text-left"><b>Support:</b></h2>
<p class="mb-0">ANY feedback, support, rescheduling: <b>2817558831</b>   or hi@bhalobangla.net
</p>
<p class="mb-0">Your Student ID is: <b id="setrecordID"></b></p>

<!-- <button href="https://meet.google.com/qra-yiap-ofu" type="button" class="btn btn-dark">Go to class</button> -->

</div>

<!-- <div style="background: #035f12;"  class="mb-4 p-4 border rounded text-white">
    <h2 class="h2 text-left"><b>Payment Portal:</b></h2>
    <p>https://meet.google.com/qra-yiap-ofu</p>
    <button href="https://meet.google.com/qra-yiap-ofu" type="button" class="btn btn-light">Go to class</button>
</div>        -->

                    </div>
                 
                    </div>
                    
                    

        
        <!-- ONBOARDNG FORM -->
        <!-- <div>
            <form>
              This is the code that adds the student to the database
              <script>
                function makeStudent(name,birth,phone,s_email,p_email,link2dash,hours){






                  console.log('Form submitted! Making student named ' + name);
                var Airtable = require('airtable');
                          var base = new Airtable({apiKey: 'pataVafxqtBa32IY1.4d77daf8255f22dcb88dcbde0c14d73bab2654fa0ac7cd7fb42cf92c42a0ae0d'}).base('appDYx7jO383yZXyc');

                          base('Students').create([
                            {
                              "fields": {
                                "Student_Name": name,
                                "Birthday_Pass": birth,
                                "Phone": phone,
                                "Primary_Email": s_email,
                                "Secondary_Email": p_email,
                                "Link2dash": link2dash,
                                "Schedule": hours
                              }
                            }                                                  
                          ], function(err, records) {
                            if (err) {
                              console.error(err);
                              return;
                            }
                            records.forEach(function (record) {
                              console.log(record.getId());
                            });
                          });}
              </script>
              <div class="form-group mt-3">
                <label for="usr">Name:</label>
                <input type="text" class="form-control" id="usr">
              </div>
              <div class="form-group mt-3">
                <label for="exampleInputEmail1">Email address</label>
                <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email">
              </div>
              <div class="form-group mt-3">
                <label for="exampleInputPassword1">Password</label>
                <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
              </div>
              <div id="calendar"></div>
                                                      <button type="submit" class="btn btn-primary">Submit</button>
            </form>




        </div> -->
        <div class="d-flex align-items-center justify-content-center">                         <p class="mt-5 opacity-50 text-center" style="position: absolute; bottom: 0;">Created by Ibrahim Islam, a student at the University of Houston.</p>
        </div>
                       
         </div>
      <div class="col-md-2 col-lg-3 d-print-none"></div>
    </div>
<!-- <script src="dash.js"></script> -->
    </div>
  </div>
  <script>document.addEventListener('DOMContentLoaded', () => {
    const calendar = new VanillaCalendar('#calendar');
    calendar.init();
  });</script>
  <!-- <script>
    var converter = new showdown.Converter();
    elements      = document.getElementsByTagName('markdown')
    elements.forEach((hi)=>{
      console.log(value)
      console.log(index)
      console.log(array)
    }
  
    // for (ele in elements){
    //   text = ele.innerhtml
    //   html      = converter.makeHtml(text);
    //   ele.innerHTML = html;
    // }
    
</script> -->
<!-- <div class="container p-4 pb-1 mt-4 bg-dark text-white rounded" style="--bs-dark-rgb: 206, 111, 4;">
                                          
                                          <h3>The Unit 1&nbsp; <span class="badge text-bg-warning">Beta</span></h3>
                                          <p>The very first unit in about <b>conversational foundations.</b>  </p>
                                        </div> -->

<script>



</script>
</body>

</html>


